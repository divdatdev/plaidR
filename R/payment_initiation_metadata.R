# The Plaid API
#
# The Plaid REST API. Please see https://plaid.com/docs/api for more details.
#
# The version of the OpenAPI document: 2020-09-14_1.146.0
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title PaymentInitiationMetadata
#'
#' @description PaymentInitiationMetadata Class
#'
#' @format An \code{R6Class} generator object
#'
#' @field supports_international_payments  character 
#'
#' @field supports_sepa_instant  character 
#'
#' @field maximum_payment_amount  named list( character ) 
#'
#' @field supports_refund_details  character 
#'
#' @field standing_order_metadata  \link{PaymentInitiationStandingOrderMetadata} 
#'
#' @importFrom R6 R6Class
#' @importFrom jsonlite fromJSON toJSON
#' @export
PaymentInitiationMetadata <- R6::R6Class(
  'PaymentInitiationMetadata',
  public = list(
    `supports_international_payments` = NULL,
    `supports_sepa_instant` = NULL,
    `maximum_payment_amount` = NULL,
    `supports_refund_details` = NULL,
    `standing_order_metadata` = NULL,
    initialize = function(
        `supports_international_payments`, `supports_sepa_instant`, `maximum_payment_amount`, `supports_refund_details`, `standing_order_metadata`, ...
    ) {
      local.optional.var <- list(...)
      if (!missing(`supports_international_payments`)) {
        stopifnot(is.logical(`supports_international_payments`), length(`supports_international_payments`) == 1)
        self$`supports_international_payments` <- `supports_international_payments`
      }
      if (!missing(`supports_sepa_instant`)) {
        stopifnot(is.logical(`supports_sepa_instant`), length(`supports_sepa_instant`) == 1)
        self$`supports_sepa_instant` <- `supports_sepa_instant`
      }
      if (!missing(`maximum_payment_amount`)) {
        stopifnot(is.vector(`maximum_payment_amount`), length(`maximum_payment_amount`) != 0)
        sapply(`maximum_payment_amount`, function(x) stopifnot(is.character(x)))
        self$`maximum_payment_amount` <- `maximum_payment_amount`
      }
      if (!missing(`supports_refund_details`)) {
        stopifnot(is.logical(`supports_refund_details`), length(`supports_refund_details`) == 1)
        self$`supports_refund_details` <- `supports_refund_details`
      }
      if (!missing(`standing_order_metadata`)) {
        stopifnot(R6::is.R6(`standing_order_metadata`))
        self$`standing_order_metadata` <- `standing_order_metadata`
      }
    },
    toJSON = function() {
      PaymentInitiationMetadataObject <- list()
      if (!is.null(self$`supports_international_payments`)) {
        PaymentInitiationMetadataObject[['supports_international_payments']] <-
          self$`supports_international_payments`
      }
      if (!is.null(self$`supports_sepa_instant`)) {
        PaymentInitiationMetadataObject[['supports_sepa_instant']] <-
          self$`supports_sepa_instant`
      }
      if (!is.null(self$`maximum_payment_amount`)) {
        PaymentInitiationMetadataObject[['maximum_payment_amount']] <-
          self$`maximum_payment_amount`
      }
      if (!is.null(self$`supports_refund_details`)) {
        PaymentInitiationMetadataObject[['supports_refund_details']] <-
          self$`supports_refund_details`
      }
      if (!is.null(self$`standing_order_metadata`)) {
        PaymentInitiationMetadataObject[['standing_order_metadata']] <-
          self$`standing_order_metadata`$toJSON()
      }

      PaymentInitiationMetadataObject
    },
    fromJSON = function(PaymentInitiationMetadataJson) {
      PaymentInitiationMetadataObject <- jsonlite::fromJSON(PaymentInitiationMetadataJson)
      if (!is.null(PaymentInitiationMetadataObject$`supports_international_payments`)) {
        self$`supports_international_payments` <- PaymentInitiationMetadataObject$`supports_international_payments`
      }
      if (!is.null(PaymentInitiationMetadataObject$`supports_sepa_instant`)) {
        self$`supports_sepa_instant` <- PaymentInitiationMetadataObject$`supports_sepa_instant`
      }
      if (!is.null(PaymentInitiationMetadataObject$`maximum_payment_amount`)) {
        self$`maximum_payment_amount` <- ApiClient$new()$deserializeObj(PaymentInitiationMetadataObject$`maximum_payment_amount`, "map(character)", loadNamespace("plaidr"))
      }
      if (!is.null(PaymentInitiationMetadataObject$`supports_refund_details`)) {
        self$`supports_refund_details` <- PaymentInitiationMetadataObject$`supports_refund_details`
      }
      if (!is.null(PaymentInitiationMetadataObject$`standing_order_metadata`)) {
        standing_order_metadataObject <- PaymentInitiationStandingOrderMetadata$new()
        standing_order_metadataObject$fromJSON(jsonlite::toJSON(PaymentInitiationMetadataObject$standing_order_metadata, auto_unbox = TRUE, digits = NA))
        self$`standing_order_metadata` <- standing_order_metadataObject
      }
      self
    },
    toJSONString = function() {
      jsoncontent <- c(
        if (!is.null(self$`supports_international_payments`)) {
        sprintf(
        '"supports_international_payments":
          %s
                ',
        tolower(self$`supports_international_payments`)
        )},
        if (!is.null(self$`supports_sepa_instant`)) {
        sprintf(
        '"supports_sepa_instant":
          %s
                ',
        tolower(self$`supports_sepa_instant`)
        )},
        if (!is.null(self$`maximum_payment_amount`)) {
        sprintf(
        '"maximum_payment_amount":
          "%s"
        ',
        jsonlite::toJSON(lapply(self$`maximum_payment_amount`, function(x){ x }), auto_unbox = TRUE, digits=NA)
        )},
        if (!is.null(self$`supports_refund_details`)) {
        sprintf(
        '"supports_refund_details":
          %s
                ',
        tolower(self$`supports_refund_details`)
        )},
        if (!is.null(self$`standing_order_metadata`)) {
        sprintf(
        '"standing_order_metadata":
        %s
        ',
        jsonlite::toJSON(self$`standing_order_metadata`$toJSON(), auto_unbox=TRUE, digits = NA)
        )}
      )
      jsoncontent <- paste(jsoncontent, collapse = ",")
      paste('{', jsoncontent, '}', sep = "")
    },
    fromJSONString = function(PaymentInitiationMetadataJson) {
      PaymentInitiationMetadataObject <- jsonlite::fromJSON(PaymentInitiationMetadataJson)
      self$`supports_international_payments` <- PaymentInitiationMetadataObject$`supports_international_payments`
      self$`supports_sepa_instant` <- PaymentInitiationMetadataObject$`supports_sepa_instant`
      self$`maximum_payment_amount` <- ApiClient$new()$deserializeObj(PaymentInitiationMetadataObject$`maximum_payment_amount`, "map(character)", loadNamespace("plaidr"))
      self$`supports_refund_details` <- PaymentInitiationMetadataObject$`supports_refund_details`
      self$`standing_order_metadata` <- PaymentInitiationStandingOrderMetadata$new()$fromJSON(jsonlite::toJSON(PaymentInitiationMetadataObject$standing_order_metadata, auto_unbox = TRUE, digits = NA))
      self
    }
  )
)
